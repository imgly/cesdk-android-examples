pluginManagement {
    repositories {
        gradlePluginPortal()
        google()
        mavenCentral()
    }
}

dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    repositories {
        google()
        mavenCentral()
        maven { url "https://artifactory.img.ly/artifactory/maven" }
    }
}

rootProject.name = "CE.SDK Showcases"
include ':app'
include ':showcase-core'
include ':showcase-editor-ui'
include ':showcase-apparel-ui'
include ':showcase-postcard-ui'

// Internal use only
def useLocalEngine = {
    def propertiesFile = new File(rootDir, "local.properties")
    if (!propertiesFile.exists()) return false
    def properties = new Properties()
    properties.load(propertiesFile.newDataInputStream())
    properties.containsKey("useLocalEngine") && properties.getProperty("useLocalEngine").toBoolean()
}

if (System.getenv("UBQ_USE_LOCAL_ENGINE") == "true" || useLocalEngine()) {
    include ':ubq-android-engine'
    project(':ubq-android-engine').projectDir = new File('../../bindings/android')
}
// Internal use only
